(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{4660:(e,t,r)=>{Promise.resolve().then(r.bind(r,9964))},5717:e=>{e.exports={shimmeringBackground:"page_shimmeringBackground__So4fU",shimmer:"page_shimmer__G1aXL"}},9964:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var s=r(5155),a=r(6766),i=r(2115),n=r(6671),o=r(4624),l=r(2085),d=r(2596),c=r(9688);let h=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function u(e){let{className:t,variant:r,size:a,asChild:i=!1,...n}=e,l=i?o.DX:"button";return(0,s.jsx)(l,{"data-slot":"button",className:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,c.QP)((0,d.$)(t))}(h({variant:r,size:a,className:t})),...n})}var x=r(6597);let g=e=>{let t=new x.uE;t.addFont("https://cdn.jsdelivr.net/npm/dejavu-fonts-ttf@2.37.3/ttf/DejaVuSans.ttf","DejaVuSans","normal"),t.setFont("DejaVuSans");let r=20;t.setFillColor(41,128,185),t.rect(0,0,210,30,"F"),t.setTextColor(255,255,255),t.setFontSize(24),t.text("Поздравления",105,20,{align:"center"}),t.setTextColor(0,0,0),t.setFontSize(12),e.forEach((e,s)=>{(r+=20)>250&&(t.addPage(),r=20,t.setFillColor(41,128,185),t.rect(0,0,210,30,"F"),t.setTextColor(255,255,255),t.setFontSize(24),t.text("Поздравления",105,20,{align:"center"}),t.setTextColor(0,0,0),r=40),t.setFillColor(41,128,185),t.circle(25,r,8,"F"),t.setTextColor(255,255,255),t.setFontSize(10),t.text((s+1).toString(),25,r,{align:"center"}),t.setTextColor(0,0,0),t.setFontSize(12);let a=t.splitTextToSize(e,150);t.text(a,40,r),r+=7*a.length+10});let s=new Date().toISOString().split("T")[0];t.setFillColor(41,128,185),t.rect(0,280,210,20,"F"),t.setTextColor(255,255,255),t.setFontSize(8),t.text("Сгенерировано: ".concat(s),105,290,{align:"center"}),t.save("Поздравления_".concat(s,".pdf"))};var m=r(5717),b=r.n(m);let p=function(){let[e,t]=(0,i.useState)(""),[r,o]=(0,i.useState)(!1),[l,d]=(0,i.useState)(null),c=async()=>{try{d(null),o(!0);let t=await fetch("/api/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:e})});if(!t.ok)throw Error("Failed to generate wishes");let{wishes:r}=await t.json();(null==r?void 0:r.length)>0?await g(r.map(e=>e.wish)):n.oR.error("Не удалось сгенерировать поздравление")}catch(e){n.oR.error("Произошла ошибка при генерации"),console.error(e)}finally{o(!1)}};return(0,s.jsxs)("main",{className:"min-h-screen flex flex-col items-center justify-center ".concat(b().shimmeringBackground," p-4"),children:[(0,s.jsx)(n.l$,{visibleToasts:1,position:"bottom-right"}),(0,s.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,s.jsx)("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl p-4",children:(0,s.jsx)(a.default,{src:"/images/korona-logo.png",alt:"Korona Logo",width:150,height:40,className:"h-10 w-auto"})}),(0,s.jsx)("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl p-4",children:(0,s.jsx)(a.default,{src:"/images/webtech-logo.png",alt:"Webtech Department Logo",width:150,height:40,className:"h-10 w-auto"})})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h1",{className:"text-[80px] font-bold text-white mb-2",children:"AutoGift"}),(0,s.jsxs)("p",{className:"text-2xl font-semibold text-white mb-8",children:["Создай уникальные поздравляши",(0,s.jsx)("br",{}),"в один клик \uD83C\uDF81"]}),(0,s.jsxs)("div",{className:"flex flex-col items-center space-y-4 max-w-xl w-full mx-auto",children:[(0,s.jsx)("textarea",{value:e,onChange:e=>t(e.target.value),placeholder:"Введите дополнительные пожелания",className:"w-full p-4 rounded-2xl bg-white/10 backdrop-blur-md text-white placeholder-white/70 border-2 border-white/20 focus:border-white/40 focus:outline-none resize-none h-32"}),(0,s.jsxs)("div",{className:"w-full flex flex-row justify-between items-center",children:[(0,s.jsx)("p",{className:"text-white/70 text-start text-sm",children:"Вводить промпт не обязательно! Можно сгенерировать поздравляши без промпта."}),(0,s.jsx)(u,{className:"bg-white hover:bg-white text-black h-[52px] font-semibold px-10 rounded-[12px]",onClick:c,disabled:r,children:r?"Генерация...":"Сгенерировать"})]})]})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[938,930,975,441,684,358],()=>t(4660)),_N_E=e.O()}]);